<import src="/template/render/item/item.wxml" />
<import src="/template/render/form/form.wxml" />
<import src="/template/render/chat/chat.wxml" />
<import src="/template/render/basic/basic.wxml" />
<import src="/template/render/layout/layout.wxml" />
<import src="/template/render/interactive/interactive.wxml" />

<wxs src="./page.wxs" module="page"></wxs>
<template name="page">
  <view class='page-top padding-bottom'
    bindtouchstart="{{page.touchStart}}"
    bindtouchmove="{{page.touchMove}}"
    bindtouchend="{{page.touchEnd}}"
    bindtouchcancel="{{page.touchCancel}}"
    change:prop="{{page.propObserver}}"
    prop="{{pageStats}}"
    data-width="{{ScreenHeight}}">
    <view style="display:inline;overflow:hiden" wx:for="{{list}}" wx:key="index" mark:tindex="{{index}}">
      <template is="{{item.type||'page'}}" data="{{...item, tindex: index, CustomBar:CustomBar, StatusBar:StatusBar,ScreenWidth:ScreenWidth,ScreenHeight:ScreenHeight}}"></template>
    </view>
  </view>
</template>

<template name="cu-custom">
  <block wx:if="{{!hideNavigation}}">
    <view class="cu-custom" style="height:{{CustomBar}}px">
      <view class="cu-bar fixfixed {{bgImage!=''?'none-bg bg-img':''}} {{bgColor||'bg-gradual-blue'}}" style="height:{{CustomBar}}px;padding-top:{{StatusBar}}px;{{bgImage?'background-image:url(' + bgImage +')':''}}" data-env="{{_env}}" bindtap="toTop">
        <view class="{{(icon1 && icon2)?'flex border-custom':''}}" style="height:{{Custom.height}}px">
          <view wx:if="{{icon1}}" class="action" bindtap="tapIcon1" data-env="{{_env}}" style="margin-right:0">
            <view>
              <text class="cuIcon-{{icon1}}"></text>
            </view>
            <view class="padding-left-xs">{{(icon1 && icon2)?'':text1}}</view>
          </view>
          <view wx:if="{{icon2}}" class="action" bindtap="tapIcon2" data-env="{{_env}}" style="margin-left:30rpx">
            <view>
              <text class="cuIcon-{{icon2}}"></text>
            </view>
            <view class="padding-left-xs">{{(icon1 && icon2)?'':text2}}</view>
          </view>
        </view>
        <block wx:if="{{type}}">
          <view class="search-form round" bindtap="toSearch" data-env="{{_env}}">
            <view class="cuIcon-search"></view>
            <input type="text" placeholder="{{placeholder}}" disabled/>
          </view>
        </block>
        <block wx:else>
          <view class="content" style="top:{{StatusBar}}px">{{title}}</view>
        </block>
      </view>
    </view>
  </block>
</template>